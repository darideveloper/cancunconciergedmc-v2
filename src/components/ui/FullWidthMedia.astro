---
import clsx from 'clsx'

interface Props {
  src: string
  isVideo?: boolean
}

const { src, isVideo = false } = Astro.props

const logoSrc = '/logo.webp'
---

<div class={clsx('w-full', 'h-screen', 'relative', 'overflow-hidden')}>
  {
    isVideo ? (
      <video
        src={src}
        autoplay
        muted
        loop
        class={clsx('w-screen', 'h-screen', 'object-cover')}
      />
    ) : (
      <>
        <img
          src={src}
          alt="Imagen dinÃ¡mica"
          class={clsx('w-screen', 'h-screen', 'block', 'object-cover', 'parallax')}
        />
        <img
          src={logoSrc}
          alt="Logo inferior"
          class={clsx('absolute', 'bottom-5', 'right-10', 'p-4', 'w-auto', 'h-32', 'z-0')}
        />
      </>
    )
  }
</div>

<script>
  window.addEventListener('DOMContentLoaded', () => {
    const parallax = document.querySelector('.parallax');
    window.addEventListener('scroll', () => {
      const scrollPosition = window.scrollY;
      if (parallax) {
        parallax.style.transform = `translateY(${scrollPosition * 0.3}px)`;
      }
    });
  });
</script>
