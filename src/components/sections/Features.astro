---
import clsx from "clsx";
import InfoCircleCard from "../ui/InfoCircleCard.astro";

//i18n
import { useTranslations } from "../../i18n/utils";

const { lang } = Astro.params as any;
const t = useTranslations(lang);
---

<section
  id="infoCircleCard"
  class={clsx("container", "flex flex-col gap-y-4 md:gap-10")}
>
  {
    [0, 1, 2].map((index) => {
      const title = t(`features.quotes.${index}.title`);
      const imageAlt = t(`features.quotes.${index}.imageAlt`);
      const text = t(`features.quotes.${index}.text`);
      const descripcion = t(`features.quotes.${index}.descripcion`);

      return (
        <div
          class={clsx(
            "flex",
            "flex-col",
            "items-center",
            "gap-4",
            "mx-auto",
            "w-full",
            "md:flex-row md:items-center",
            index % 2 === 0 ? "md:flex-row-reverse" : "md:flex-row",
          )}
        >
          <div
            class={clsx(
              "flex",
              "justify-center",
              "w-full",
              "md:w-auto",
              index % 2 === 0 && "scale-90 md:scale-110",
            )}
          >
            <InfoCircleCard
              imageBgSrc={`/infoCircle/${title}.webp`}
              imageTopSrc={`/infoCircle/${title}.webp`}
              imageAlt={`${imageAlt}${title}`}
              title={title}
              text={text}
              class={clsx("h-28", "w-28", "md:h-100", "md:w-100", "shrink-0")}
            />
          </div>

          <p
            class={clsx(
              "text-sm",
              "text-gray-700",
              "text-center",
              "px-4",
              "max-w-full",
              "md:max-w-md",
              index === 1 ? "md:w-1/3" : "md:w-1/3",
              index === 0 || index === 2 ? "md:text-center" : "md:text-center",
            )}
          >
            {descripcion}
          </p>
        </div>
      );
    })
  }
</section>
